<!--=include header.html -->

<main>
  <div id="myModal" class="popup">
    <div class="popup__content">
      <div class="popup__body">
        <img class="close" src="../images/close.svg" alt="close" />
        <h1>Купить в 1 клик</h1>
        <input
          type="tel"
          name="phone"
          id="phone"
          placeholder="+ 7 (---) --- -- -- "
        />
        <input type="name" name="name" id="name" placeholder="Ваше имя" />
      </div>
      <div class="popup__foot">
        <p>
          Нажимая кнопку “Отправить”, я даю согласие на обработку моих
          персональных данных в соответствии с
          <a href="#">Условиями конфиденциальности</a>
        </p>

        <button>Отправить</button>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="gallery">
      <div class="gallery__images">
        <img src="../images/1.png" alt="1" />
        <img src="../images/2.png" alt="2" />
        <img src="../images/3.png" alt="3" />
        <img src="../images/4.png" alt="4" />
        <img src="../images/5.png" alt="5" />
      </div>
    </div>
    <div class="buy">
      <div class="buy__reviews">
        <h1>Пижама для девочек</h1>
        <p>Арт. 02765/46</p>
        <div class="reviews__review">
          <h3>Отзывы</h3>
          <div class="review__stars">
            <img src="../images/icon_star_fill.svg" alt="star" />
            <img src="../images/icon_star_fill.svg" alt="star" />
            <img src="../images/icon_star_fill.svg" alt="star" />
            <img src="../images/icon_star_fill.svg" alt="star" />
            <img src="../images/icon_star_fill.svg" alt="star" />
            <img src="../images/icon_star.svg" alt="star" />
          </div>
          <p>14 отзывов</p>
          <img src="../images/arrow_right_swipe.svg" alt="arrow" />
        </div>
      </div>
      <div class="buy__price">
        <div class="price__title">
          <h1>800 ₽</h1>
          <h3>1 500 ₽</h3>
          <img src="../images/arrow_right_swipe.svg" alt="arrow" />
        </div>
        <div class="price__sale">
          <p>скидка -47%</p>
          <p>акция -20%</p>
        </div>
      </div>
      <div class="buy__size__selector">
        <select id="size">
          <option value="" selected>Выберите размер</option>
          <option value="S">S</option>
          <option value="M">M</option>
          <option value="L">L</option>
          <option value="XL">XL</option>
        </select>
        <h2><a href="#">Определить размер</a></h2>
      </div>
      <div class="buy__favor">
        <div class="favor__body">
          <div class="buy__favor__quantity-selector">
            <button class="quantity_btn plus">+</button>
            <input
              type="number"
              class="quantity_input"
              value="1"
              min="1"
              readonly
              disabled
            />
            <button class="quantity_btn minus">-</button>
          </div>
          <div class="buy__favor__add-to-cart">
            <button class="add-to-cart-btn">Добавить в корзину</button>
            <span class="icon"
              ><img src="../images/favorite2.svg" alt="favorite"
            /></span>
          </div>
        </div>
        <a id="myBtn" href="#">Купить в 1 клик</a>
      </div>
      <div class="buy__goods-desc">
        <div class="goods-desc__desc">
          <img src="../images/person.svg" alt="icon" />
          <a href="#">Описание товара</a>
        </div>
        <div class="goods-desc__desc">
          <img src="../images/clock.svg" alt="icon" />
          <a href="#">Доставка и возврат</a>
        </div>
        <div class="goods-desc__desc">
          <img src="../images/pay.svg" alt="icon" />
          <a href="#">Способы оплаты</a>
        </div>
      </div>
    </div>
  </div>
</main>

<script>
  const galleryImages = document.querySelectorAll(".gallery__images img");
  const gallery = document.querySelector(".gallery");
  const modal = document.getElementById("myModal");
  const btn = document.getElementById("myBtn");
  const span = document.getElementsByClassName("close")[0];
  const decreaseBtn = document.querySelector(".minus");
  const increaseBtn = document.querySelector(".plus");
  const quantityInput = document.querySelector(".quantity_input");

  const burger = document.querySelector(".burger");
  const menu = document.querySelector(".mob_menu");

  burger.addEventListener("click", () => {
    menu.style.display = "block";
  });

  document.querySelector(".mob_menu_close_icon")
  .addEventListener("click", () => {
      menu.style.display = "none";
    });

  galleryImages.forEach((img) => {
    img.addEventListener("click", () => {
      const imageUrl = img.getAttribute("src");
      gallery.style.backgroundImage = `url(${imageUrl})`;
    });
  });

  btn.onclick = function () {
    modal.style.display = "block";
  };

  span.onclick = function () {
    modal.style.display = "none";
  };

  window.onclick = function (event) {
    if (event.target == modal) {
      modal.style.display = "none";
    }
  };

  decreaseBtn.addEventListener("click", function () {
    if (parseInt(quantityInput.value) > 1) {
      quantityInput.value = parseInt(quantityInput.value) - 1;
    }
  });
  increaseBtn.addEventListener("click", function () {
    if (parseInt(quantityInput.value) < 10) {
      quantityInput.value = parseInt(quantityInput.value) + 1;
    }
  });
  quantityInput.addEventListener("change", function () {});
  closeIcons.forEach(function (icon) {
    icon.addEventListener("click", handleRemove);
  });

  function handleRemove(event) {
    const card = event.target.closest(".basket_card");
    if (card) {
      card.remove();
    }
  }
</script>

<!--=include footer.html -->
